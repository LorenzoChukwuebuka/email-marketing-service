// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.29.0
// source: email_campaign_results.sql

package db

import (
	"context"
	"database/sql"
)

const markEmailAsDelivered = `-- name: MarkEmailAsDelivered :exec
UPDATE email_campaign_results
SET
    sent_at = NOW(),
    bounce_status = '',
    updated_at = NOW()
WHERE
    recipient_email = $1
    AND deleted_at IS NULL
`

func (q *Queries) MarkEmailAsDelivered(ctx context.Context, recipientEmail string) error {
	_, err := q.db.ExecContext(ctx, markEmailAsDelivered, recipientEmail)
	return err
}

const updateBounceStatus = `-- name: UpdateBounceStatus :exec
UPDATE email_campaign_results
SET
    bounce_status = $1,
    updated_at = NOW()
WHERE
    recipient_email = $2
    AND deleted_at IS NULL
`

type UpdateBounceStatusParams struct {
	BounceStatus   sql.NullString `json:"bounce_status"`
	RecipientEmail string         `json:"recipient_email"`
}

func (q *Queries) UpdateBounceStatus(ctx context.Context, arg UpdateBounceStatusParams) error {
	_, err := q.db.ExecContext(ctx, updateBounceStatus, arg.BounceStatus, arg.RecipientEmail)
	return err
}
